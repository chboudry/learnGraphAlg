{
  "title": "Modularity Comparison: Newman-Girvan vs Leicht-Newman",
  "category": "Community Detection",
  "directed": true,
  "description": "This demonstration compares **Newman-Girvan modularity** and **Leicht-Newman modularity** on a directed network. The network features different edge patterns and node connectivity, making it ideal for testing how each modularity handles directed structures.\n\n### Two Modularity Approaches:\n\n**Newman-Girvan Modularity (Undirected)**:\n- **Formula**: Q = 1/(2m) Î£[Aij - (ki Ã— kj)/(2m)] Î´(ci, cj)\n- **Treats directed as undirected**: Uses total degrees only\n- **Groups by degree similarity**: Prefers nodes with similar total connectivity\n\n**Leicht-Newman Modularity (Directed)**:\n- **Formula**: Q = 1/m Î£[Aij - (ki^out Ã— kj^in)/m] Î´(ci, cj)\n- **Preserves directionality**: Uses separate in/out degrees\n- **Groups by flow patterns**: Captures directional connectivity\n\n### Test Network Structure:\n\n**Labeled Directed Network (A=0, B=1, C=2, D=3, E=4, F=5)**:\n- **Edges**: Aâ†’D, Aâ†’C, Bâ†’D, Câ†’E, Câ†”F, Eâ†’B, Fâ†’B\n- **Node degrees vary**: Creating different community detection challenges\n- **Mixed connectivity**: Some bidirectional, some unidirectional flows\n\n**Key Test**: Can modularity algorithms distinguish between different community structures based on directional flow vs total degree?\n\nLet's compare how each approach partitions this directed network.",
  "steps": [
    {
      "name": "Labeled Directed Network Structure",
      "description": " Labeled Directed Network\n\nThis network demonstrates **directed connectivity patterns** with nodes A-F (labeled 0-5) and various edge configurations.\n\n### Network Pattern:\n```\nA â”€â”€â†’ D\nâ”‚\nâ””â”€â”€â†’ C â†” F\n     â”‚   â”‚\n     â†“   â†“\n     E â”€â”€â†’ B\n         â†‘\n        Bâ†’D\n```\n\n### Directed Edges (8 total):\n- **A â†’ D, A â†’ C**: A connects to both D and C\n- **B â†’ D**: B feeds into D\n- **C â†’ E, C â†” F**: C connects to E and has bidirectional link with F\n- **E â†’ B, F â†’ B**: Both E and F connect to B\n\n### Node Degree Analysis:\n\n**Node Connectivity:**\n- **A**: out=2, in=0, total=2 (pure source)\n- **B**: out=1, in=2, total=3 (sink with one outgoing)\n- **C**: out=2, in=1, total=3 (balanced with high activity)\n- **D**: out=0, in=2, total=2 (pure sink)\n- **E**: out=1, in=1, total=2 (balanced flow)\n- **F**: out=2, in=1, total=3 (high out-degree)\n\n### Community Detection Challenge:\n\n**Newman-Girvan expects** degree-based grouping:\n- Total degree 3: {B, C, F}\n- Total degree 2: {A, D, E}\n\n**Leicht-Newman considers** directional flows:\n- May group by flow patterns or directional roles\n- Accounts for in/out degree differences\n\n**Key Question**: Which algorithm better captures meaningful community structure?",
      "nodes": [
        {
          "id": "A",
          "captions": [{ "value": "A | 2â†’0" }],
          "color": "#666666"
        },
        {
          "id": "B",
          "captions": [{ "value": "B | 1â†’2" }],
          "color": "#666666"
        },
        {
          "id": "C",
          "captions": [{ "value": "C | 2â†’1" }],
          "color": "#666666"
        },
        {
          "id": "D",
          "captions": [{ "value": "D | 0â†’2" }],
          "color": "#666666"
        },
        {
          "id": "E",
          "captions": [{ "value": "E | 1â†’1" }],
          "color": "#666666"
        },
        {
          "id": "F",
          "captions": [{ "value": "F | 2â†’1" }],
          "color": "#666666"
        }
      ],
      "relationships": [
        {
          "id": "link1",
          "type": "LINK",
          "fromId": "A",
          "toId": "D",
          "color": "#1976d2"
        },
        {
          "id": "link2",
          "type": "LINK",
          "fromId": "A",
          "toId": "C",
          "color": "#999999"
        },
        {
          "id": "link3",
          "type": "LINK",
          "fromId": "B",
          "toId": "D",
          "color": "#999999"
        },
        {
          "id": "link4",
          "type": "LINK",
          "fromId": "C",
          "toId": "E",
          "color": "#999999"
        },
        {
          "id": "link5",
          "type": "LINK",
          "fromId": "C",
          "toId": "F",
          "color": "#d32f2f"
        },
        {
          "id": "link6",
          "type": "LINK",
          "fromId": "F",
          "toId": "C",
          "color": "#d32f2f"
        },
        {
          "id": "link7",
          "type": "LINK",
          "fromId": "E",
          "toId": "B",
          "color": "#388e3c"
        },
        {
          "id": "link8",
          "type": "LINK",
          "fromId": "F",
          "toId": "B",
          "color": "#999999"
        }
      ]
    },
    {
      "name": "First Partition: Flow-Based Communities",
      "description": "## First Community Partition\n\n**Testing flow-based community structure** with three groups based on connectivity patterns.\n\n### Partition 1: {E,B} + {C,F} + {A,D}\n\n**ï¿½ Community 1 - Flow Receivers**: {E, B}\n- **E**: in=1, out=1, total=2 (receives from C, sends to B)\n- **B**: in=2, out=1, total=3 (receives from E,F, sends to D)\n- **Pattern**: Nodes that receive and redistribute flows\n\n**ðŸ”´ Community 2 - Bidirectional Hub**: {C, F}\n- **C**: in=1, out=2, total=3 (receives from A, sends to E,F)\n- **F**: in=1, out=2, total=3 (receives from C, sends to C,B)\n- **Pattern**: Nodes with bidirectional connection and high activity\n\n**ï¿½ Community 3 - Source-Sink Pair**: {A, D}\n- **A**: in=0, out=2, total=2 (pure source to D,C)\n- **D**: in=2, out=0, total=2 (pure sink from A,B)\n- **Pattern**: Clear source-sink relationship\n\n### Modularity Results:\n\n**Newman-Girvan Q = 0.14** (Poor)\n- **Newman-Girvan limitation**: Ignores directional flow patterns\n- **Degree-based logic conflicts** with flow-based grouping\n- **Mixes different connectivity types** within communities\n\n**Leicht-Newman Q = 0.31** (Good)\n- **Directional awareness**: Better captures flow relationships\n- **In/out degree consideration**: Recognizes directional roles\n- **Flow pattern recognition**: Groups nodes by similar flow behavior\n\n**Why Leicht-Newman performs better**: This partition respects directional flow patterns that Newman-Girvan cannot detect.",
      "nodes": [
        {
          "id": "A",
          "captions": [{ "value": "A | deg:2" }],
          "color": "#2196f3"
        },
        {
          "id": "B",
          "captions": [{ "value": "B | deg:3" }],
          "color": "#4caf50"
        },
        {
          "id": "C",
          "captions": [{ "value": "C | deg:3" }],
          "color": "#f44336"
        },
        {
          "id": "D",
          "captions": [{ "value": "D | deg:2" }],
          "color": "#2196f3"
        },
        {
          "id": "E",
          "captions": [{ "value": "E | deg:2" }],
          "color": "#4caf50"
        },
        {
          "id": "F",
          "captions": [{ "value": "F | deg:3" }],
          "color": "#f44336"
        }
      ],
      "relationships": [
        {
          "id": "AD",
          "from": "A",
          "to": "D",
          "captions": [{ "value": "cross" }],
          "color": "#f44336"
        },
        {
          "id": "DG",
          "from": "D",
          "to": "G",
          "captions": [{ "value": "cross" }],
          "color": "#f44336"
        },
        {
          "id": "DE",
          "from": "D",
          "to": "E",
          "captions": [{ "value": "within" }],
          "color": "#2196f3"
        },
        {
          "id": "EH",
          "from": "E",
          "to": "H",
          "captions": [{ "value": "cross" }],
          "color": "#f44336"
        },
        {
          "id": "EF",
          "from": "E",
          "to": "F",
          "captions": [{ "value": "within" }],
          "color": "#2196f3"
        },
        {
          "id": "BF",
          "from": "B",
          "to": "F",
          "captions": [{ "value": "cross" }],
          "color": "#f44336"
        },
        {
          "id": "FI",
          "from": "F",
          "to": "I",
          "captions": [{ "value": "cross" }],
          "color": "#f44336"
        },
        {
          "id": "IB",
          "from": "I",
          "to": "B",
          "captions": [{ "value": "within" }],
          "color": "#ff9800"
        },
        {
          "id": "GH",
          "from": "G",
          "to": "H",
          "captions": [{ "value": "cross" }],
          "color": "#f44336"
        },
        {
          "id": "HI",
          "from": "H",
          "to": "I",
          "captions": [{ "value": "cross" }],
          "color": "#f44336"
        },
        {
          "id": "BA",
          "from": "B",
          "to": "A",
          "captions": [{ "value": "within" }],
          "color": "#ff9800"
        }
      ]
    },
    {
      "name": "Alternative: Flow-Based Partition",
      "description": "## Alternative Partition: Following Directional Flow\n\nLet's try a **flow-based partition** that respects the directional structure, and see how Newman-Girvan modularity evaluates it.\n\n### Flow-Based Partition:\n\n**Community 1 (Blue) - Source Cycle**: {A, B, I}\n- **Flow pattern**: A â†’ ... â†’ B â†’ F â†’ I â†’ B (input cycle)\n- **Role**: Input generators and cycle maintainers\n\n**Community 2 (Orange) - Hub Layer**: {D, E}\n- **Flow pattern**: Receive from sources, distribute to authorities\n- **Role**: Central processing hubs\n\n**Community 3 (Green) - Authority/Sink Layer**: {F, G, H}\n- **Flow pattern**: Receive from hubs, terminate flows\n- **Role**: Information consumers and sinks\n\n### Why This Might Be Better Structurally:\n\n**Directional Logic**:\n- **Layer 1**: Sources generate and cycle information\n- **Layer 2**: Hubs process and distribute\n- **Layer 3**: Authorities consume and terminate\n\n**Flow Efficiency**: Minimizes cross-layer connections that go against natural flow\n\n### Edge Analysis for Flow-Based Partition:\n\n**Within Communities**:\n- **Community 1**: I â†’ B (1 edge within)\n- **Community 2**: D â†’ E (1 edge within) \n- **Community 3**: No internal connections\n\n**Between Communities**: 6 edges cross boundaries (same as degree-based)\n\n### Newman-Girvan Evaluation:\n\n**Problem**: Newman-Girvan doesn't recognize this as better because:\n- It groups **different degree nodes** together (A,B,I with degrees 2,2,2 vs F,G,H with degrees 3,1,1)\n- **Expected connections** based on degree products don't align with actual flow patterns\n- **Degree heterogeneity** within communities reduces modularity score\n\n**Expected modularity**: ~0.05-0.15 (lower than degree-based partition)\n\n**Insight**: Newman-Girvan's degree-based expectation model doesn't capture the **directional role-based community structure** effectively.",
      "nodes": [
        {
          "id": "A",
          "captions": [{ "value": "A | src" }],
          "color": "#2196f3"
        },
        {
          "id": "B",
          "captions": [{ "value": "B | cyc" }],
          "color": "#2196f3"
        },
        {
          "id": "D",
          "captions": [{ "value": "D | hub" }],
          "color": "#ff9800"
        },
        {
          "id": "E",
          "captions": [{ "value": "E | hub" }],
          "color": "#ff9800"
        },
        {
          "id": "F",
          "captions": [{ "value": "F | auth" }],
          "color": "#4caf50"
        },
        {
          "id": "G",
          "captions": [{ "value": "G | sink" }],
          "color": "#4caf50"
        },
        {
          "id": "H",
          "captions": [{ "value": "H | sink" }],
          "color": "#4caf50"
        },
        {
          "id": "I",
          "captions": [{ "value": "I | cyc" }],
          "color": "#2196f3"
        }
      ],
      "relationships": [
        {
          "id": "AD",
          "from": "A",
          "to": "D",
          "captions": [{ "value": "cross" }],
          "color": "#f44336"
        },
        {
          "id": "DG",
          "from": "D",
          "to": "G",
          "captions": [{ "value": "cross" }],
          "color": "#f44336"
        },
        {
          "id": "DE",
          "from": "D",
          "to": "E",
          "captions": [{ "value": "within" }],
          "color": "#ff9800"
        },
        {
          "id": "EH",
          "from": "E",
          "to": "H",
          "captions": [{ "value": "cross" }],
          "color": "#f44336"
        },
        {
          "id": "EF",
          "from": "E",
          "to": "F",
          "captions": [{ "value": "cross" }],
          "color": "#f44336"
        },
        {
          "id": "BF",
          "from": "B",
          "to": "F",
          "captions": [{ "value": "cross" }],
          "color": "#f44336"
        },
        {
          "id": "FI",
          "from": "F",
          "to": "I",
          "captions": [{ "value": "cross" }],
          "color": "#f44336"
        },
        {
          "id": "IB",
          "from": "I",
          "to": "B",
          "captions": [{ "value": "within" }],
          "color": "#2196f3"
        },
        {
          "id": "GH",
          "from": "G",
          "to": "H",
          "captions": [{ "value": "within" }],
          "color": "#4caf50"
        },
        {
          "id": "HI",
          "from": "H",
          "to": "I",
          "captions": [{ "value": "cross" }],
          "color": "#f44336"
        },
        {
          "id": "BA",
          "from": "B",
          "to": "A",
          "captions": [{ "value": "within" }],
          "color": "#2196f3"
        }
      ]
    },
    {
      "name": "Leicht-Newman: Role-Based Grouping",
      "description": "## Leicht-Newman Modularity Analysis\n\n**Leicht-Newman** preserves **directionality** and groups nodes by **functional roles** using separate in-degrees and out-degrees.\n\n### Leicht-Newman Partition:\n\n**ðŸŸ¢ Community 1 - Sources (High Out-Degree)**: {B, D, E}\n- **B**: 2â†’1 (out-degree 2, in-degree 1) - **Hub role**\n- **D**: 2â†’1 (out-degree 2, in-degree 1) - **Hub role**\n- **E**: 2â†’1 (out-degree 2, in-degree 1) - **Hub role**\n\n**ðŸ”´ Community 2 - Authorities (High In-Degree)**: {F, H, I}\n- **F**: 1â†’2 (out-degree 1, in-degree 2) - **Authority role**\n- **H**: 1â†’2 (out-degree 1, in-degree 2) - **Authority role**\n- **I**: 1â†’2 (out-degree 1, in-degree 2) - **Authority role**\n\n**ðŸŸ¡ Community 3 - Intermediates (Balanced)**: {A, G}\n- **A**: 1â†’1 (out-degree 1, in-degree 1) - **Intermediate role**\n- **G**: 1â†’1 (out-degree 1, in-degree 1) - **Intermediate role**\n\n### Leicht-Newman Results:\n\n**âœ… Advantages over Newman-Girvan:**\n- **Role separation**: Sources {B,D,E} separated from authorities {F,H,I}\n- **Directional awareness**: Uses out-degree vs in-degree distinction\n- **Functional grouping**: Communities reflect actual network roles\n- **Better null model**: Expected edges based on directed configuration\n\n**ðŸ“Š Performance Comparison:**\n- **Newman-Girvan Q â‰ˆ 0.25**: Degree-based partition {B,D,E,F,H,I} vs {A,G}\n- **Leicht-Newman Q â‰ˆ 0.35**: Role-based partition {B,D,E} vs {F,H,I} vs {A,G}\n\n### Why Leicht-Newman Excels Here:\n\n**ðŸŽ¯ Authority-Hub Network Benefits:**\n- **Clear role differentiation**: Sources feed information to authorities\n- **Directional flow patterns**: Network has inherent sourceâ†’authority structure\n- **Asymmetric connectivity**: Out-degree â‰  in-degree creates meaningful roles\n\n### Leicht-Newman Q â‰ˆ 0.35\n\n**Higher modularity** - better captures directional community structure in authority-hub networks.",
      "nodes": [
        {
          "id": "A",
          "captions": [{ "value": "A | 1â†’1" }],
          "color": "#ffeb3b"
        },
        {
          "id": "B",
          "captions": [{ "value": "B | 2â†’1" }],
          "color": "#4caf50"
        },
        {
          "id": "D",
          "captions": [{ "value": "D | 2â†’1" }],
          "color": "#4caf50"
        },
        {
          "id": "E",
          "captions": [{ "value": "E | 2â†’1" }],
          "color": "#4caf50"
        },
        {
          "id": "F",
          "captions": [{ "value": "F | 1â†’2" }],
          "color": "#f44336"
        },
        {
          "id": "G",
          "captions": [{ "value": "G | 1â†’1" }],
          "color": "#ffeb3b"
        },
        {
          "id": "H",
          "captions": [{ "value": "H | 1â†’2" }],
          "color": "#f44336"
        },
        {
          "id": "I",
          "captions": [{ "value": "I | 1â†’2" }],
          "color": "#f44336"
        }
      ],
      "relationships": [
        {
          "id": "AD",
          "from": "A",
          "to": "D",
          "captions": [{ "value": "cross" }],
          "color": "#666666"
        },
        {
          "id": "DG",
          "from": "D",
          "to": "G",
          "captions": [{ "value": "cross" }],
          "color": "#666666"
        },
        {
          "id": "DE",
          "from": "D",
          "to": "E",
          "captions": [{ "value": "within" }],
          "color": "#4caf50"
        },
        {
          "id": "EH",
          "from": "E",
          "to": "H",
          "captions": [{ "value": "cross" }],
          "color": "#666666"
        },
        {
          "id": "EF",
          "from": "E",
          "to": "F",
          "captions": [{ "value": "cross" }],
          "color": "#666666"
        },
        {
          "id": "BF",
          "from": "B",
          "to": "F",
          "captions": [{ "value": "cross" }],
          "color": "#666666"
        },
        {
          "id": "FI",
          "from": "F",
          "to": "I",
          "captions": [{ "value": "within" }],
          "color": "#f44336"
        },
        {
          "id": "IB",
          "from": "I",
          "to": "B",
          "captions": [{ "value": "cross" }],
          "color": "#666666"
        },
        {
          "id": "GH",
          "from": "G",
          "to": "H",
          "captions": [{ "value": "cross" }],
          "color": "#666666"
        },
        {
          "id": "HI",
          "from": "H",
          "to": "I",
          "captions": [{ "value": "within" }],
          "color": "#f44336"
        },
        {
          "id": "BA",
          "from": "B",
          "to": "A",
          "captions": [{ "value": "cross" }],
          "color": "#666666"
        }
      ]
    },
    {
      "id": 3,
      "title": "Second Partition: Degree-Based Communities",
      "description": "**Alternative partition: {A,D} + {F,C,E,B}** - This partition groups nodes by degree patterns rather than flow. Community 1 contains nodes with minimal incoming edges (A,D), while Community 2 contains nodes with higher connectivity (F,C,E,B). **Newman-Girvan Q = 0.125** (based on degree distribution) vs **Leicht-Newman Q = 0.46** (considering directional flows). Leicht-Newman strongly favors this partition because it captures the main flow patterns: Aâ†’(C,D), internal Câ†”F reciprocity, and the Eâ†’Bâ†’D flow chain.",
      "nodes": [
        {
          "id": "A",
          "captions": [{ "value": "A | deg:2" }],
          "color": "#ff9800"
        },
        {
          "id": "B",
          "captions": [{ "value": "B | deg:3" }],
          "color": "#9c27b0"
        },
        {
          "id": "C",
          "captions": [{ "value": "C | deg:3" }],
          "color": "#9c27b0"
        },
        {
          "id": "D",
          "captions": [{ "value": "D | deg:2" }],
          "color": "#ff9800"
        },
        {
          "id": "E",
          "captions": [{ "value": "E | deg:2" }],
          "color": "#9c27b0"
        },
        {
          "id": "F",
          "captions": [{ "value": "F | deg:3" }],
          "color": "#9c27b0"
        }
      ],
      "relationships": [
        {
          "id": "link1",
          "type": "LINK",
          "fromId": "A",
          "toId": "D",
          "color": "#f57c00"
        },
        {
          "id": "link2",
          "type": "LINK",
          "fromId": "A",
          "toId": "C",
          "color": "#999999"
        },
        {
          "id": "link3",
          "type": "LINK",
          "fromId": "B",
          "toId": "D",
          "color": "#999999"
        },
        {
          "id": "link4",
          "type": "LINK",
          "fromId": "C",
          "toId": "E",
          "color": "#7b1fa2"
        },
        {
          "id": "link5",
          "type": "LINK",
          "fromId": "C",
          "toId": "F",
          "color": "#7b1fa2"
        },
        {
          "id": "link6",
          "type": "LINK",
          "fromId": "F",
          "toId": "C",
          "color": "#7b1fa2"
        },
        {
          "id": "link7",
          "type": "LINK",
          "fromId": "E",
          "toId": "B",
          "color": "#7b1fa2"
        },
        {
          "id": "link8",
          "type": "LINK",
          "fromId": "F",
          "toId": "B",
          "color": "#7b1fa2"
        }
      ]
    }
  ]
}